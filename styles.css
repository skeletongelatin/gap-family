:root {
  --gap-blue: #002F94;
  --muted: #404040;
  --bg: #f6f6f8;
  --accent: #e6eefc;
}

body.vintage {
  font-family: 'Helvetica Neue', Arial, sans-serif;
  background: var(--bg);
  color: var(--muted);
}

.wrap {max-width: 980px; margin: 0 auto; padding: 18px;}
.site-header {background:#fff;border-bottom:1px solid #e1e1e1;}
.site-header .wrap {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* changed from space-between */
  gap: 1.5rem; /* controls space between logo and nav links */
}

.nav a {margin-left:18px;text-decoration:none;color:var(--gap-blue);font-weight:600;}
.nav a.join {font-style:italic;}
.nav a:hover {text-decoration:underline;text-decoration-thickness:2px;transform:translateX(.5px);}

/* Hero image */
.hero-image {
  background: url('assets/store-empty.jpg') center/cover no-repeat;
  background-size: clamp(90%, 100vw, 120%);
  min-height: 60vh;       /* default for desktop */
  display: flex;
  flex-direction: column;
  justify-content: center;
  color: white;
  text-shadow: 0 1px 6px rgba(0,0,0,.4);
  transition: filter 2s ease, background-image 2s ease, background-size 0.5s ease;
  padding: 40px;
}

/* Hero heading & subtext */
.hero-image h1 {font-size: 40px; margin-bottom: 10px;}
.hero-image small {font-size: 14px; color: #e0e0e0;}
.deep-loop .hero-image {filter: brightness(.65) contrast(.9);}

/* ============================================================
   Products Page Hero Image
   ============================================================ */
.products-hero {
  background-image: url("assets/products-hero.jpg"); /* üëà replace with your desired image */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}


/* Mobile adjustments */
@media (max-width: 768px) {
  .hero-image {
    min-height: 50vh;             /* slightly shorter on phones */
    padding: 20px;                /* reduce padding for small screens */
    background-size: 100vw;       /* fill width fully on mobile */
  }
  .hero-image h1 {font-size: 28px;}  /* scale heading down */
  .hero-image small {font-size: 12px;} /* scale subtext down */
}


/* Content area */
.content {background:#fff;padding:20px;border:1px solid #eee;border-radius:3px;margin-top:-50px;position:relative;z-index:2;}
.coming {padding:10px;margin-bottom:10px;}
.btn {display:inline-block;padding:8px 14px;background:var(--gap-blue);color:white;text-decoration:none;border-radius:2px;}
.btn.ghost {background:transparent;color:var(--gap-blue);border:1px solid var(--gap-blue);}
.cta-row {margin-top:10px;display:flex;gap:10px;}

/* Products */
.grid {display:flex;gap:12px;}
.product {background:#fff;padding:8px;border:1px solid #eaeaea;width:140px;}
.product img {display:block;width:100%;height:100px;object-fit:cover;}
.pname {font-size:12px;margin-top:6px;}

/* About */
.team {display:flex;gap:18px;margin-top:12px;}
.member {background:#fff;padding:12px;border:1px solid #eee;width:48%;}
.member img {width:100%;height:180px;object-fit:cover;}
.member.faded {opacity:.86;filter:grayscale(.2);}
.small {font-size:13px;color:#666;}

/* Secret */
body.secret {background:#0b0b0c;color:#ddd;}
.records {background:#020202;color:#8ef0a1;padding:12px;border-radius:4px;}

/* Footer */
.site-footer {margin-top:30px;padding:18px 0;border-top:1px solid #eaeaea;background:#fff;}
.site-footer .tiny {font-size:11px;color:#8a8a8a;}

/* Deep loop theme tweaks */
.deep-loop body.vintage {background:#e8e8ea;color:#353535;}
.deep-loop .site-header,
.deep-loop .site-footer {filter:brightness(.9);}


/* === Backroom Door overlay (place near hero-image styles) === */
.hero-image {
  /* keep existing styles, but ensure we can absolutely position the door over it */
  position: relative;
  overflow: visible;
}

/* ============================================================
   Back Door Overlay (Clean Version ‚Äî Centered in Hero)
   ============================================================ */
/* === Back Door Overlay (FINAL CENTERED VERSION) === */
.door-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(220px, 28%);
  max-width: 280px;
  z-index: 60;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 1.2s ease;
  pointer-events: none; /* hidden until visible */
}

/* Make the image properly clickable and centered */
.door-overlay img {
  pointer-events: auto;
  cursor: pointer;
  width: 120px; /* tweak as needed */
  height: auto;
  display: block;
}

/* When activated */
.door-overlay.visible {
  opacity: 1;
  pointer-events: auto;
}

/* Keeps chat bubble on top */
#help-bubble {
  z-index: 9999;
}



/* ============================================================
   GAP Sequence styling
   ============================================================ */
.gap-sequence {
  position: relative;
  z-index: 3;
  text-align: center;
  margin: 2rem 0;
  user-select: none;
}

.gap-instruction {
  font-family: "Times New Roman", cursive;
  font-style: italic;
  font-weight: bold; 
  color: #222;
  font-size: 1.2rem;
  opacity: 0.9;
}

/* Desktop shows text; mobile shows keys */
.desktop-only { display: block; }
.mobile-only { display: none; }

@media (max-width: 768px) {
  .desktop-only { display: none; }
  .mobile-only { display: flex; justify-content: center; gap: 0.8rem; }
}

/* fix the white .coming block stacking */
.coming {
  position: relative;
  z-index: 1;
  background: white;
  padding: 1.5rem;
  border-radius: 1rem;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* Key visuals (mobile) */
.gap-keys {
  display: flex;
  justify-content: center;
  gap: 0.8rem;
  margin: 1.6rem 0;
}

.gap-key {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  background: #fdfdfd;
  box-shadow: 0 3px 0 #ccc, 0 6px 10px rgba(0,0,0,0.15);
  transition: all 0.12s ease;
  cursor: pointer;
  user-select: none;
}

/* Mobile GAP instruction text */
.gap-mobile-instruction {
  text-align: center;
  font-family: "Times New Roman", cursive;
  font-style: italic;
  font-weight: bold;
  color: #222;
  margin-bottom: 0.6rem;
}

/* Wrap keys together nicely */
.gap-key-row {
  display: flex;
  justify-content: center;
  gap: 0.8rem;
}

.gap-key.pressed {
  transform: translateY(3px);
  box-shadow: 0 1px 0 #ccc, 0 3px 6px rgba(0,0,0,0.1);
  filter: brightness(0.95);
}

/* Wiggle prompt animation */
@keyframes keyWiggle {
  0%, 100% { transform: translateY(0); }
  25% { transform: translateY(-3px); }
  50% { transform: translateY(0); }
  75% { transform: translateY(-2px); }
}

.gap-blink {
  font-weight: 700;
  color: var(--gap-blue);
  display: inline-block;
  letter-spacing: 2px;
}

.gap-blink .dash {
  color: #000;
  opacity: 0.8;
}

.gap-blink .letter {
  opacity: 0;
  animation: typeCycle 5s infinite steps(1, end);
}

/* individual delays to stagger appearance */
.gap-blink .letter:nth-child(1) { animation-delay: 0.5s; } /* G */
.gap-blink .letter:nth-child(3) { animation-delay: 1s; }   /* A */
.gap-blink .letter:nth-child(5) { animation-delay: 1.5s; } /* P */

@keyframes typeCycle {
  0%, 10% { opacity: 0; }   /* blank start */
  11%, 70% { opacity: 1; }  /* visible (hold) */
  71%, 100% { opacity: 0; } /* fade out / reset */
}

/* Fix G-A-P overlap with Coming Soon box */
.gap-sequence {
  position: relative;
  z-index: 2;
  margin-top: 3rem;  /* adds breathing room below hero */
  margin-bottom: 3rem;
}

.content {
  margin-top: 0; /* remove the negative margin pulling it up */
}

/* GAP blue highlight */
.gap-blue {
  color: var(--gap-blue);
}

/* ============================================================
   Lights-Out Overlay + Deep Page Visuals (fixed)
   ============================================================ */
.lights-out {
  position: fixed;
  inset: 0;
  background: #000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease-in;
  z-index: 9999;
}

.lights-out.visible {
  opacity: 1;
}

/* Deep page ‚Äúlights on again‚Äù */
body.deep-looped {
  background-color: #f8f3e0 !important;
  color: #222;
  animation: flickerOn 1.5s ease-in-out;
}

@keyframes flickerOn {
  0%, 10%, 25%, 40% { opacity: 0; }
  15%, 30%, 50%, 100% { opacity: 1; }
}

/* Subtle worn look */
body.deep-looped .hero-image,
body.deep-looped .content,
body.deep-looped .btn,
body.deep-looped .site-header,
body.deep-looped .site-footer {
  filter: sepia(0.25) brightness(0.95);
}

/* === DEEP PAGE WEIRDNESS === */
body.deep.dim-all .main,
body.deep.dim-all .site-header,
body.deep.dim-all .site-footer {
  filter: brightness(0.65) contrast(0.9);
  transform: scale(0.97);
  transition: all 0.4s ease;
}

.weird-btn {
  position: relative;
  z-index: 10;
  transition: all 0.3s ease;
}


.blink-flash {
  position: fixed;
  inset: 0;
  background: white;
  z-index: 9999;
  animation: blinkFlash 1.3s ease-in-out;
}

@keyframes blinkFlash {
  0%, 100% { opacity: 0; }
  45%, 55% { opacity: 1; }
}


/* ============================================================
   Deep Page Final Sequence ‚Äî YOU ARE HERE NOW + Glitch Return
   ============================================================ */

/* === Shrink Stages ‚Äî everything except button === */
body.shrink-1 .main,
body.shrink-1 .site-header,
body.shrink-1 .site-footer {
  transform: scale(0.97);
  transition: all 0.4s ease;
}

body.shrink-2 .main,
body.shrink-2 .site-header,
body.shrink-2 .site-footer {
  transform: scale(0.94);
  transition: all 0.4s ease;
}

body.shrink-3 .main,
body.shrink-3 .site-header,
body.shrink-3 .site-footer {
  transform: scale(0.9);
  transition: all 0.4s ease;
}

/* === Keep final button the same size despite shrink === */
body.shrink-1 .btn.final-stage,
body.shrink-2 .btn.final-stage,
body.shrink-3 .btn.final-stage {
  transform: translate(-50%, -50%) scale(1); /* counteracts parent scale */
}


/* === Rumble Effect === */
@keyframes subtleRumble {
  0%,100% { transform: translate(0,0); }
  20% { transform: translate(-1px,1px); }
  40% { transform: translate(1px,-1px); }
  60% { transform: translate(-1px,-1px); }
  80% { transform: translate(1px,1px); }
}

body.rumble {
  animation: subtleRumble 0.3s ease-in-out 3;
}

/* === Final Overwhelming Button === */
.btn.final-stage {
  position: fixed !important;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(1);
  font-size: 2rem;
  padding: 2rem 4rem;
  z-index: 9998;
  background: var(--gap-blue);
  color: white;
  text-transform: uppercase;
  letter-spacing: 1px;
  box-shadow: 0 0 25px rgba(0,0,0,0.5);
  animation: rumbleGrow 2s ease-in-out infinite;
}

@keyframes rumbleGrow {
  0%,100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.05); }
}

/* === Glitch Transition Back to Normal === */
.glitch-flash {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: repeating-linear-gradient(
    0deg,
    #fff 0px,
    #fff 2px,
    #ccc 3px,
    #fff 5px
  );
  animation: glitchFlash 1.2s ease-in-out;
  opacity: 0;
}

@keyframes glitchFlash {
  0% { opacity: 0; }
  20%, 40%, 60%, 80% { opacity: 1; transform: translateY(-1px); }
  30%, 50%, 70%, 90% { opacity: 1; transform: translateY(1px); }
  100% { opacity: 0; }
}

/* ============================================================
   Promo Storm (Final Stage Visual Overload)
   ============================================================ */
.storm-btn {
  position: fixed;
  font-family: inherit;
  font-weight: bold;
  text-transform: uppercase;
  background: var(--gap-blue);
  color: white;
  padding: 0.6rem 1.2rem;
  border-radius: 4px;
  opacity: 0;
  pointer-events: none;
  z-index: 500;
  transition: opacity 0.3s ease, transform 0.4s ease;
  filter: brightness(1.2);

  /* ü©µ fixes the rectangle glitch */
  display: inline-flex;         /* keeps the button tight around text */
  align-items: center;          /* centers text vertically */
  justify-content: center;      /* centers text horizontally */
  white-space: nowrap;          /* prevents text wrapping */
  transform: scale(0.6);        /* defines its starting size */
  width: auto !important;       /* overrides any stretched width */
  height: auto !important;      /* overrides any stretched height */
  box-sizing: border-box;       /* makes padding behave predictably */
}


.storm-btn.show {
  opacity: 1;
  animation: promoPulse 0.8s ease-in-out;
}

@keyframes promoPulse {
  0% { opacity: 0; } 
  50% { transform: scale(1.05) rotate(2deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); opacity: 1; }
}


.storm-btn.fade {
  opacity: 0;
  transform: scale(0.8);
  transition: opacity 0.8s ease, transform 0.8s ease;
}



/* ============================================================
   District Manager Chat ‚Äî final styled + distortion reveal
   ============================================================ */

.dm-notice {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  background: #e0eaf6;
  border: 1px solid #b0c3da;
  border-radius: 4px;
  padding: 0.5rem 1rem;
  font-family: "Arial", sans-serif;
  font-size: 0.9rem;
  box-shadow: 0 0 8px rgba(0,0,0,0.2);
  cursor: pointer;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
  z-index: 10000;
}
.dm-notice.visible {
  opacity: 1;
  pointer-events: auto;
}
.dm-notice:hover { background: #f6f9ff; }

.dm-chat {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  width: 260px;
  background: #ffffff;
  border: 1px solid #b0c3da;
  border-radius: 6px;
  box-shadow: 0 0 12px rgba(0,0,0,0.25);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 10001;
  animation: dmFadeIn 0.4s ease;
}
.dm-chat.visible { display: flex; }

@keyframes dmFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.dm-header {
  background: #003366;
  color: #fff;
  font-size: 0.85rem;
  font-weight: bold;
  padding: 0.4rem 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid #00264d;
}

.dm-messages {
  flex: 1;
  padding: 0.6rem;
  overflow-y: auto;
  font-family: "Arial", sans-serif;
  font-size: 0.85rem;
  color: #333;
  background: #f9fafc;
  max-height: 240px;
  position: relative;
}

.dm-message {
  background: #e9eef7;
  color: #111;
  margin-bottom: 0.4rem;
  padding: 0.4rem 0.6rem;
  border-radius: 4px;
  line-height: 1.3;
  word-wrap: break-word;
  animation: dmMessageIn 0.3s ease;
}
.dm-message.user {
  background: #d9edf7;
  text-align: right;
}
.dm-message.system {
  background: #f1f3f9;
  color: #777;
  font-style: italic;
  text-align: center;
}

@keyframes dmMessageIn {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.dm-typing {
  display: flex;
  gap: 4px;
  padding: 0.4rem 0.6rem;
}
.dm-typing span {
  width: 6px;
  height: 6px;
  background: #a0a9c0;
  border-radius: 50%;
  animation: dm-dot 1s infinite;
}
.dm-typing span:nth-child(2) { animation-delay: 0.2s; }
.dm-typing span:nth-child(3) { animation-delay: 0.4s; }
@keyframes dm-dot {
  0%, 80%, 100% { opacity: 0.2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-2px); }
}

#dm-input {
  border: none;
  border-top: 1px solid #c0cde0;
  padding: 0.5rem;
  font-size: 0.85rem;
  outline: none;
  width: 100%;
  font-family: "Arial", sans-serif;
}
#dm-input::placeholder { color: #aaa; }

/* === Glitch / Distortion effect when revealing info === */
.dm-distort {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,0.02) 0px,
    rgba(255,255,255,0.02) 1px,
    rgba(0,0,0,0.05) 2px
  );
  mix-blend-mode: overlay;
  pointer-events: none;
  opacity: 0;
  animation: distortGlitch 1.8s ease-in-out;
}

@keyframes distortGlitch {
  0%, 100% { opacity: 0; filter: none; transform: none; }
  15%, 35%, 55%, 75% { opacity: 1; filter: contrast(1.5) hue-rotate(15deg); transform: skewX(2deg); }
  25%, 45%, 65%, 85% { opacity: 1; filter: contrast(1.3) hue-rotate(-15deg); transform: skewX(-2deg); }
}


/* ============================================================
   HELP DESK BUBBLE + CHATBOX
   ============================================================ */
.help-bubble {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  background: var(--gap-blue);
  color: white;
  width: 46px;
  height: 46px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.3rem;
  cursor: pointer;
  box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  z-index: 9998;
  transition: transform 0.2s ease, background 0.2s ease;
}
.help-bubble:hover {
  transform: scale(1.05);
  background: #0043cc;
}

.help-chat {
  position: fixed;
  bottom: 5rem;
  right: 1rem;
  width: 260px;
  background: #ffffff;
  border: 1px solid #b0c3da;
  border-radius: 6px;
  box-shadow: 0 0 12px rgba(0,0,0,0.25);
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 10000;
}
.help-chat.visible { display: flex; animation: dmFadeIn 0.4s ease; }

.help-header {
  background: #003366;
  color: #fff;
  font-size: 0.85rem;
  font-weight: bold;
  padding: 0.4rem 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.help-messages {
  flex: 1;
  padding: 0.6rem;
  overflow-y: auto;
  font-family: "Arial", sans-serif;
  font-size: 0.85rem;
  color: #333;
  background: #f9fafc;
  max-height: 240px;
}

.help-message {
  background: #e9eef7;
  color: #111;
  margin-bottom: 0.4rem;
  padding: 0.4rem 0.6rem;
  border-radius: 4px;
  line-height: 1.3;
  word-wrap: break-word;
  animation: dmMessageIn 0.3s ease;
}
.help-message.user {
  background: #d9edf7;
  text-align: right;
}

.help-message.system {
  background: none;
  color: #777;
  font-style: italic;
  text-align: center;
  font-size: 0.8rem;
  padding: 0.3rem 0;
}
/* ============================================================
   DON‚ÄôT GO ‚Äî Final Stage Window Chaos
   ============================================================ */
.dont-go-container {
  position: fixed; inset: 0; overflow: hidden; z-index: 9997; pointer-events: none;
}

.dont-go-window {
  position: absolute;
  background: var(--accent);
  border: 1px solid var(--gap-blue);
  border-radius: 4px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  opacity: 0;
  transform: scale(0);
  pointer-events: none;
  animation: dgWindowPop 0.6s forwards;

  /* ‚úÖ Keep shape consistent */
  aspect-ratio: 4 / 1;         /* roughly match your small button‚Äôs shape */
  display: inline-flex;         /* keep content centered */
  align-items: center;
  justify-content: center;
  padding: 0.6rem 1.2rem;       /* same padding as the normal button */
  width: auto;                  /* let content define width */
  height: auto;                 /* prevent stretching */
  transform-origin: center;     /* ensure scale happens from center */
}


/* Shake + blur effect */
.shake-blur {
  animation: shakeBlur 0.6s ease-in-out;
}

@keyframes shakeBlur {
  0% { transform: translate(0,0); filter: blur(0px); }
  20% { transform: translate(-6px, 4px); filter: blur(1.5px); }
  40% { transform: translate(5px, -3px); filter: blur(2px); }
  60% { transform: translate(-4px, 2px); filter: blur(1.5px); }
  80% { transform: translate(3px, -2px); filter: blur(1px); }
  100% { transform: translate(0,0); filter: blur(0px); }
}

/* Shake + blur effect */
@keyframes shakeBlur {
  0% { transform: translate(0,0); filter: blur(0px); }
  20% { transform: translate(-6px, 4px); filter: blur(1.5px); }
  40% { transform: translate(5px, -3px); filter: blur(2px); }
  60% { transform: translate(-4px, 2px); filter: blur(1.5px); }
  80% { transform: translate(3px, -2px); filter: blur(1px); }
  100% { transform: translate(0,0); filter: blur(0px); }
}

/* Post-GAP closed version */
body.post-gap .hero-image {
  filter: brightness(0.7) contrast(1.2) saturate(0.8);
  animation: flicker 2s infinite alternate;
  transition: filter 1s ease, opacity 1s ease;
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.92; }
}

.join.attention {
  animation: wiggleFlash 0.6s ease-in-out infinite;
}

@keyframes wiggleFlash {
  0% { transform: translateX(0); opacity: 1; }
  25% { transform: translateX(-4px) rotate(-2deg); opacity: 0.9; }
  50% { transform: translateX(4px) rotate(2deg); opacity: 1; }
  75% { transform: translateX(-2px) rotate(-1deg); opacity: 0.95; }
  100% { transform: translateX(0); opacity: 1; }
}



/* ============================================================
   FINAL visibility fix for GAP section
   ============================================================ */
.desktop-only {
  display: block !important;
}

.mobile-only {
  display: none !important;
}

@media (max-width: 768px) {
  .desktop-only {
    display: none !important;
  }
  .mobile-only {
    display: flex !important;
  }
}

.site-header .logo img {
  height: 95px;
  width: auto;
  display: block;
}


/* === Help Bubble Styling - Bigger Version === */
#help-bubble {
  width: 90px;            /* bigger bubble */
  height: 90px;           /* bigger bubble */
  font-size: 2rem;        /* icon scales nicely inside */
  border-radius: 50%;
  position: fixed;
  bottom: 24px;
  right: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--gap-blue, #002f94);
  color: white;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.28);
  transition: transform 0.2s ease;
  animation: floaty-wiggle 3.5s ease-in-out infinite;
}

/* Slight hover grow effect */
#help-bubble:hover {
  transform: scale(1.1);   /* slightly bigger hover */
}

/* Floating / wiggle animation */
@keyframes floaty-wiggle {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-4px) rotate(-2deg); }
  50% { transform: translateY(0) rotate(0deg); }
  75% { transform: translateY(4px) rotate(2deg); }
}

/* Optional: smaller on mobile */
@media (max-width: 768px) {
  #help-bubble {
    width: 70px;
    height: 70px;
    font-size: 1.6rem;
  }
}

.btn.weird-btn {
  position: fixed; /* floats above the shrinking content */
  bottom: 10px;    /* or wherever you want it */
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  background: var(--gap-blue);
  color: white;
  border: none;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(0,0,0,0.4);
}

/* === Light Shudder for second click / shrink-2 === */
body.shrink-2 .btn.weird-btn {
  animation: shudderLight 0.12s ease-in-out infinite;
}

@keyframes shudderLight {
  0%   { transform: translateX(0) translateY(0) rotate(0deg); }
  25%  { transform: translateX(-1px) translateY(1px) rotate(-1deg); }
  50%  { transform: translateX(1px) translateY(-1px) rotate(1deg); }
  75%  { transform: translateX(-1px) translateY(1px) rotate(-1deg); }
  100% { transform: translateX(0) translateY(0) rotate(0deg); }
}

/* === Intense Shudder for final version / shrink-3 === */
body.shrink-3 .btn.weird-btn {
  animation: shudder 0.08s ease-in-out infinite;
}

@keyframes shudder {
  0%   { transform: translateX(0) translateY(0) rotate(0deg); }
  10%  { transform: translateX(-3px) translateY(3px) rotate(-2deg); }
  20%  { transform: translateX(3px) translateY(-3px) rotate(2deg); }
  30%  { transform: translateX(-3px) translateY(3px) rotate(-2deg); }
  40%  { transform: translateX(3px) translateY(-3px) rotate(2deg); }
  50%  { transform: translateX(-2px) translateY(2px) rotate(-1deg); }
  60%  { transform: translateX(2px) translateY(-2px) rotate(1deg); }
  70%  { transform: translateX(-2px) translateY(2px) rotate(-1deg); }
  80%  { transform: translateX(2px) translateY(-2px) rotate(1deg); }
  90%  { transform: translateX(-2px) translateY(2px) rotate(-1deg); }
  100% { transform: translateX(0) translateY(0) rotate(0deg); }
}

/* ============================================================
   WEIRD BUTTON ‚Äî Uniform Scaling + Intense Shake Fix
   ============================================================ */

.btn.weird-btn {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  font-size: 1.5rem;
  padding: 1rem 2rem;
  background: var(--gap-blue);
  color: white;
  border: none;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(0,0,0,0.4);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  border-radius: 4px;
  transform-origin: center;
  transition: transform 0.3s ease;
}

/* Light shudder on 2nd click (shrink-2) */
body.shrink-2 .btn.weird-btn {
  animation: shudderLight 0.12s ease-in-out infinite;
}

@keyframes shudderLight {
  0%   { transform: translate(-50%, 0) rotate(0deg); }
  25%  { transform: translate(calc(-50% - 1px), 1px) rotate(-1deg); }
  50%  { transform: translate(calc(-50% + 1px), -1px) rotate(1deg); }
  75%  { transform: translate(calc(-50% - 1px), 1px) rotate(-1deg); }
  100% { transform: translate(-50%, 0) rotate(0deg); }
}

/* Intense shudder on final stage (shrink-3) */
body.shrink-3 .btn.weird-btn {
  animation: shudder 0.08s ease-in-out infinite;
}

@keyframes shudder {
  0%   { transform: translate(-50%, 0) rotate(0deg); }
  10%  { transform: translate(calc(-50% - 3px), 3px) rotate(-2deg); }
  20%  { transform: translate(calc(-50% + 3px), -3px) rotate(2deg); }
  30%  { transform: translate(calc(-50% - 3px), 3px) rotate(-2deg); }
  40%  { transform: translate(calc(-50% + 3px), -3px) rotate(2deg); }
  50%  { transform: translate(calc(-50% - 2px), 2px) rotate(-1deg); }
  60%  { transform: translate(calc(-50% + 2px), -2px) rotate(1deg); }
  70%  { transform: translate(calc(-50% - 2px), 2px) rotate(-1deg); }
  80%  { transform: translate(calc(-50% + 2px), -2px) rotate(1deg); }
  90%  { transform: translate(calc(-50% - 2px), 2px) rotate(-1deg); }
  100% { transform: translate(-50%, 0) rotate(0deg); }
}

/* Final-stage version ‚Äî uniform scaling */
.weird-btn.final-stage {
  transform: translate(-50%, -50%) scale(1);
  top: 50%;
  bottom: auto;
  font-size: 2rem;
  padding: 1.5rem 3rem;
  box-shadow: 0 0 25px rgba(0,0,0,0.5);
  transition: transform 0.3s ease;
}

/* Enlarged mode (no stretching, scales from center) */
.weird-btn.final-stage.enlarged {
  transform: translate(-50%, -50%) scale(3);
}
/* ============================================================
   Hero Flicker ‚Äî Fast, Harsh Strobe (Fluorescent Light Effect)
   ============================================================ */
.hero-image.dm-flicker {
  animation: heroFlicker 0.9s steps(1, end);
}

@keyframes heroFlicker {
  0% { filter: brightness(1); }
  5% { filter: brightness(0.1); }
  10% { filter: brightness(1); }
  15% { filter: brightness(0.3); }
  25% { filter: brightness(1); }
  35% { filter: brightness(0.2); }
  45% { filter: brightness(1); }
  55% { filter: brightness(0.15); }
  70% { filter: brightness(1); }
  80% { filter: brightness(0.25); }
  90% { filter: brightness(1); }
  100% { filter: brightness(0.05); }
}

/* === FIX: Center door inside hero image === */
.hero-image,
.products-hero {
  position: relative !important; /* makes the hero the positioning parent */
}

.door-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: min(220px, 28%);
  max-width: 280px;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 60;
  opacity: 0;
  transition: opacity 1.2s ease;
}

.door-overlay.visible {
  opacity: 1;
  pointer-events: auto;
}

/* --- Chatbox fade-out effect --- */
@keyframes chatFadeOut {
  0% {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
  60% {
    opacity: 0.4;
    filter: blur(2px);
    transform: translateY(10px);
  }
  100% {
    opacity: 0;
    filter: blur(6px);
    transform: translateY(30px);
  }
}

#help-chat.fade-away {
  animation: chatFadeOut 2.5s ease forwards;
}


